<!DOCTYPE html>
<html th:replace="~{layout/layout :: layout(~{::title}, ~{::section})}" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>malwareAssignment</title>
</head>
<body>
    <section>

        <table class="table table-bordered">
            <tr>
                <th>assigner</th>
                <td th:text="${assignmentDetailResponse.assignerUsername}"/>
                <th>assignee</th>
                <td th:text="${assignmentDetailResponse.assigneeUsername}"/>
            </tr>

            <tr>
                <th>악성코드 닉네임</th>
                <td th:text="${assignmentDetailResponse.malwareNickname}"/>
                <th>악성코드 타이틀</th>
                <td th:text="${assignmentDetailResponse.malwareTitle}"/>
            </tr>

            <tr>
                <th>예상 시간</th>
                <td th:text="${#temporals.format(assignmentDetailResponse.estimatedTime, 'yyyy-MM-dd HH:mm')}"/>
                <th>상태</th>
                <td th:text="${assignmentDetailResponse.assignmentStatus.getValue()}"/>
            </tr>
        </table>

        <div>
            <label for="title">제목</label>
            <input type="text" id="title" name="title" class="form-control" th:value="${assignmentDetailResponse.title}" disabled readonly>
        </div>
        <br>

        <div>
            <label for="content">내용</label>
            <textarea id="content" name="content" class="form-control" rows="10" th:text="${assignmentDetailResponse.content}" disabled readonly/>
        </div>

        <div class="py-5 text-center">
            <h2>첨부파일</h2>
        </div>
        <table class="table">
            <thead>
            <tr>
                <th>filename</th>
            </tr>
            <thead>
            <tbody>
            <tr th:each="attachment : ${assignmentDetailResponse.getAssignmentAttachmentResponseList()}">
                <td><a th:text="${attachment.filename}" th:href="@{/attachments/{id}/download(id=${attachment.id})}"/></td>
            </tr>
            </tbody>
        </table>

        <div class="card reply-form">
            <div class="card-header">
                댓글남기기
            </div>
            <div class="card-body">
                <textarea class="form-control" id="comment-content" rows="3"></textarea>
                <button id="btn-submit-comment" class="btn btn-outline-primary" type="button">제출</button>
            </div>
        </div>

        <div class="card comment-list">
            <div class="card-header">
                댓글
            </div>
            <div class="card-body">
                <ul class="list-group">
                </ul>
            </div>
            <div class="py-3 text-center">
                <button id="btn-more-comment" class="btn btn-outline-primary btn-lg" type="button">more</button>
            </div>
        </div>

        <script type="module" src="/js/malwareassignment/commentEventListener.js"></script>

    </section>
</body>
</html>