<!DOCTYPE html>
<html th:replace="~{layout/layout :: layout(~{::title}, ~{::section})}" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>malwareDetail</title>
</head>
<body>

    <section>

        <h4 th:text="${malwareDetailRes.title}"></h4>
        <br>
        <textarea th:text="${malwareDetailRes.content}" class="form-control" rows="15" readonly/>

        <div class="row">
            <table class="table table-borderless col">
                <tr>
                    <th>닉네임</th>
                    <td th:text="${malwareDetailRes.nickname}"/>
                </tr>
                <tr>
                    <th>위험도</th>
                    <td th:text="${malwareDetailRes.riskness}"/>
                </tr>

                <tr>
                    <th>업로더</th>
                    <td th:text="${malwareDetailRes.posterUsername}"/>
                </tr>
            </table>

            <table class="table table-borderless col">
                <tr>
                    <th>발견 시간</th>
                    <td th:text="${#temporals.format(malwareDetailRes.detectedTime, 'yyyy-MM-dd HH:mm:ss')}"/>
                </tr>
                <tr>
                    <th>해결된 시간</th>
                    <td th:text="${#temporals.format(malwareDetailRes.resolvedTime, 'yyyy-MM-dd HH:mm:ss')}"/>
                </tr>
                <tr>
                    <th></th>
                    <td></td>
                </tr>
            </table>
        </div>

        <div>
            <div>목적</div>
            <div th:each="purpose : ${PurposeType}"
                 class="form-check form-check-inline">
                <input type="checkbox" th:field="${malwareDetailRes.purposeList}" th:value="${purpose.getKey()}"
                       class="form-check-input" disabled>
                <label th:for="${#ids.prev('purposeList')}"
                       th:text="${purpose.getValue()}" class="form-check-label">목적</label>
            </div>
        </div>
        <br>

        <div>
            <div>행위</div>
            <div th:each="behavior : ${BehaviorType}"
                 class="form-check form-check-inline">
                <input type="checkbox" th:field="${malwareDetailRes.behaviorList}" th:value="${behavior.getKey()}"
                       class="form-check-input" disabled>
                <label th:for="${#ids.prev('behaviorList')}"
                       th:text="${behavior.getValue()}" class="form-check-label">목적</label>
            </div>
        </div>

        <div class="py-5 text-center">
            <h2>관련 파일 리스트</h2>
        </div>
        <table class="table">
            <thead>
            <tr>
                <th>filename</th>
                <th>signature</th>
            </tr>
            <thead>
            <tbody>
            <tr th:each="malwarefile : ${malwareDetailRes.malwareFileInPageList}">
                <td><a th:text="${malwarefile.filename}" th:href="@{/malwares/{malwareId}/malwarefiles/{id}/download(malwareId=${malwareDetailRes.id}, id=${malwarefile.id})}"/></td>
                <td><a th:text="${malwarefile.signature}" th:href="@{/malwarefiles/{id}(id=${malwarefile.id})}"></a></td>
            </tr>
            </tbody>
        </table>

        <button th:onclick="|location.href='@{/malwares/{id}/edit(id=${malwareDetailRes.id})}'|" class="btn btn-outline-primary">수정</button>

        <div class="py-5 text-center">
            <h2>과제 리스트</h2>
        </div>
        <table class="table">
            <thead>
            <tr>
                <th>id</th>
                <th>title</th>
                <th>status</th>
            </tr>
            <thead>
            <tbody>
            <tr th:each="assignment : ${malwareDetailRes.getAssignmentList()}">
                <td><a th:text="${assignment.id}"/></td>
                <td><a th:text="${assignment.title}" th:href="@{/assignments/{id}(id=${assignment.id})}"/></td>
                <td><a th:text="${assignment.assignmentStatus}"/></td>
            </tr>
            </tbody>
        </table>

        <button th:onclick="|location.href='@{/malwares/{id}/assignments/create(id=${malwareDetailRes.id})}'|" class="btn btn-outline-primary">과제생성</button>

    </section>

</body>
</html>