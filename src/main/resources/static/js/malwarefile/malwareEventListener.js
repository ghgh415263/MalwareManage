import { makePaginationBar } from "../makePaginationBar.js";
import { pagnationPage } from "../pagnationPage.js";
import { getMalwareList } from "./GetMalwareList.js";
import {makeMalwareTag} from "./makeMalwareTag.js";

const reloadMalwareList = (page) => {
    getMalwareList(page)
        .then(result => {
            $('.list').empty();
            result.content.forEach(malware => {
                const commentTag = makeMalwareTag(malware);
                $('.list').append(commentTag);
            })
            let paginationBarTag = makePaginationBar(result.customPageable);
            document.querySelector('.paging').replaceChildren(paginationBarTag);
        })
        .then(() => {
            pagnationPage()
        })
}

window.onload  = () => {
    reloadMalwareList(1)
}