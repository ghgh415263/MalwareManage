export const makePaginationBar = (pageable) => {

    // 페이지네이션 HTML을 제거한 후 로직 종료
    if ( pageable.totalPages < 2 ) {
        document.querySelector('.paging').innerHTML = '';
    }

    let html = '<ul class="pagination justify-content-center">';

    // 3. 첫/이전 페이지 버튼 추가
    if (pageable.hasPrevious) {
        html += `
                <li class="page-item">
                    <a href="javascript:void(0);" id="prev" class="page-link" data-page="${pageable.page-1}">
                        <span>이전</span>
                    </a>
                </li>
            `;
    }

    // 4. 페이지 번호 추가
    for (let i = 1; i <= pageable.totalPages; i++) {
        html += `
                <li class="page-item">
                    <a class="page-link" href="javascript:void(0);" data-page="${i}">${i}</a>
                </li>`
    }

    // 5. 다음/끝 페이지 버튼 추가
    if (pageable.hasNext) {
        html += `
                <li class="page-item">
                    <a href="javascript:void(0);" id="next" class="page-link" data-page="${pageable.page+1}">
                        <span>다음</span>
                    </a>
                </li>
            `;
    }

    html += `</ul>`

    const paging = document.querySelector('.paging');
    paging.innerHTML = html;

    // 7. 사용자가 클릭한 페이지 번호(page) 또는 끝 페이지 번호(totalPageCount)에 해당되는 a 태그를 찾아 활성화(active) 처리한 후 클릭 이벤트 제거
    const currentPage = Array.from(paging.querySelectorAll('a')).find(a => (Number(a.text) === pageable.page));
    currentPage.classList.add('disabled')
}