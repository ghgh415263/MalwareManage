export const makePaginationBar = (pageable) => {

    let $ul = document.createElement('ul');
    $ul.classList.add('pagination','justify-content-center')

    // 페이지네이션 HTML을 제거한 후 로직 종료
    if ( pageable.totalPages < 2 ) {
        return $ul;
    }

    let html = ''
    // 3. 첫/이전 페이지 버튼 추가
    if (pageable.hasPrevious) {
        html += makePreviousBtn(pageable.page-1);
    }

    // 4. 페이지 번호 추가
    for (let i = 1; i <= pageable.totalPages; i++) {
        html += makePageBtn(i);
    }

    // 5. 다음/끝 페이지 버튼 추가
    if (pageable.hasNext) {
        html += makeNextBtn(pageable.page+1);
    }

    $ul.innerHTML = html;

    const currentPage = Array.from($ul.querySelectorAll('a')).find(a => (Number(a.text) === pageable.page));
    currentPage.classList.add('disabled')
    return $ul
}

function makePreviousBtn(page) {
    return `
            <li class="page-item">
               <a href="javascript:void(0);" id="prev" class="page-link" data-page="${page}">
                  <span>이전</span>
               </a>
            </li>
           `
}

function makeNextBtn(page) {
    return `
            <li class="page-item">
               <a href="javascript:void(0);" id="next" class="page-link" data-page="${page}">
                  <span>다음</span>
               </a>
            </li>
            `;
}

function makePageBtn(page){
    return `
            <li class="page-item">
                <a class="page-link" href="javascript:void(0);" data-page="${page}">${page}</a>
            </li>
           `
}