import { getCommentList } from './malwareassignment/GetCommentList.js';
import { makeCommentTag } from "./malwareassignment/makeCommentTag.js";
import { makePaginationBar } from "./makePaginationBar.js";
export const pagnationPage = () => {
    const page_elements = document.getElementsByClassName("page-link");
    Array.from(page_elements).forEach(function(element) {
        element.addEventListener('click', function() {
            getCommentList(this.dataset.page)
                .then(result => {
                    $('.list-group').empty();
                    for (const comment of result.content){
                        const $li = makeCommentTag(comment)
                        $('.list-group').append($li);
                    }
                    let paginationBarTag = makePaginationBar(result.customPageable);
                    document.querySelector('.paging').replaceChildren(paginationBarTag);
                })
                .then(() => {
                    pagnationPage()
                })
        });
    });
}